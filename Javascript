document.addEventListener('DOMContentLoaded', function () {
  var currentPasswordInput = document.getElementById('currentPassword');
  var newPasswordInput = document.getElementById('newPassword');
  var retypePasswordInput = document.getElementById('retypePassword');
  var submitBtn = document.getElementById('submitBtn');
  var message = document.getElementById('message');

  submitBtn.addEventListener('click', function () {
    var currentPassword = currentPasswordInput.value;
    var newPassword = newPasswordInput.value;
    var retypePassword = retypePasswordInput.value;

    // Reset message
    message.textContent = '';

    if (currentPassword === "" || newPassword === "" || retypePassword === "") {
      message.textContent = 'All fields are required.';
    } else if (newPassword !== retypePassword) {
      message.textContent = 'New password and retype password do not match.';
    } else if (validatePassword(newPassword)) {
      message.textContent = 'Password changed successfully.';
    } else {
      message.textContent = 'New password is not valid.';
    }
  });

  function validatePassword(password) {
    // Define password requirements
    var minLength = 8;
    var hasUppercase = /[A-Z]/.test(password);
    var hasLowercase = /[a-z]/.test(password);
    var hasNumbers = /[0-9]/.test(password);
    var hasSpecialChars = /[!@#$%^&*()_+{}\[\]:;<>,.?~\-]/.test(password);

    // Check if all requirements are met
    return (
      password.length >= minLength &&
      hasUppercase &&
      hasLowercase &&
      hasNumbers &&
      hasSpecialChars
    );
  }
});
