<!DOCTYPE html>
<html>
<head>
  <title>Password Validation</title>
</head>
<body>
  <label for="currentPassword">Current Password:</label>
  <input type="password" id="currentPassword" /><br>
  
  <label for="newPassword">New Password:</label>
  <input type="password" id="newPassword" /><br>
  
  <label for="retypePassword">Retype Password:</label>
  <input type="password" id="retypePassword" /><br>
  
  <button id="submitBtn">Change Password</button>
  <p id="message"></p>

  <script>
    document.getElementById('submitBtn').addEventListener('click', function () {
      var currentPassword = document.getElementById('currentPassword').value;
      var newPassword = document.getElementById('newPassword').value;
      var retypePassword = document.getElementById('retypePassword').value;
      var message = document.getElementById('message');

      // Reset message
      message.textContent = '';

      if (currentPassword === "" || newPassword === "" || retypePassword === "") {
        message.textContent = 'All fields are required.';
      } else if (newPassword !== retypePassword) {
        message.textContent = 'New password and retype password do not match.';
      } else if (validatePassword(newPassword)) {
        message.textContent = 'Password changed successfully.';
      } else {
        message.textContent = 'New password is not valid.';
      }
    });

    function validatePassword(password) {
      // Define password requirements
      var minLength = 8;
      var hasUppercase = /[A-Z]/.test(password);
      var hasLowercase = /[a-z]/.test(password);
      var hasNumbers = /[0-9]/.test(password);
      var hasSpecialChars = /[!@#$%^&*()_+{}\[\]:;<>,.?~\-]/.test(password);

      // Check if all requirements are met
      return (
        password.length >= minLength &&
        hasUppercase &&
        hasLowercase &&
        hasNumbers &&
        hasSpecialChars
      );
    }
  </script>
</body>
</html>
